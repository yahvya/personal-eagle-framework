<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_a00170_source" xml:lang="fr">
<title>MysqlQueryBuilder.php</title>
<indexterm><primary>MysqlQueryBuilder.php</primary></indexterm>
Aller à la documentation de ce fichier.<programlisting linenumbering="unnumbered"><anchor xml:id="_a00170_source_1l00001"/>00001 &lt;?php
<anchor xml:id="_a00170_source_1l00002"/>00002 
<anchor xml:id="_a00170_source_1l00003"/><link linkend="_a00412">00003</link> <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_a00412">SaboCore\Database\Default\QueryBuilder</link>;
<anchor xml:id="_a00170_source_1l00004"/>00004 
<anchor xml:id="_a00170_source_1l00005"/>00005 use&#32;PDO;
<anchor xml:id="_a00170_source_1l00006"/>00006 use&#32;PDOStatement;
<anchor xml:id="_a00170_source_1l00007"/>00007 use&#32;<link linkend="_a00584">SaboCore\Config\ConfigException</link>;
<anchor xml:id="_a00170_source_1l00008"/>00008 use&#32;<link linkend="_a00632">SaboCore\Database\Default\Attributes\TableColumn</link>;
<anchor xml:id="_a00170_source_1l00009"/>00009 use&#32;<link linkend="_a00736">SaboCore\Database\Default\System\MysqlCondition</link>;
<anchor xml:id="_a00170_source_1l00010"/>00010 use&#32;<link linkend="_a00740">SaboCore\Database\Default\System\MysqlCondSeparator</link>;
<anchor xml:id="_a00170_source_1l00011"/>00011 use&#32;<link linkend="_a00744">SaboCore\Database\Default\System\MysqlException</link>;
<anchor xml:id="_a00170_source_1l00012"/>00012 use&#32;<link linkend="_a00748">SaboCore\Database\Default\System\MysqlFunction</link>;
<anchor xml:id="_a00170_source_1l00013"/>00013 use&#32;<link linkend="_a00752">SaboCore\Database\Default\System\MysqlModel</link>;
<anchor xml:id="_a00170_source_1l00014"/>00014 use&#32;<link linkend="_a00728">SaboCore\Database\Default\System\MysqlBindDatas</link>;
<anchor xml:id="_a00170_source_1l00015"/>00015 use&#32;Throwable;
<anchor xml:id="_a00170_source_1l00016"/>00016 
<anchor xml:id="_a00170_source_1l00021"/><link linkend="_a00724">00021</link> <emphasis role="keyword">class&#32;</emphasis><link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00025"/><link linkend="_a00724_1ad6cc6e119d82d5eaab864674bf6ef70b">00025</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keywordtype">string</emphasis>&#32;<link linkend="_a00724_1ad6cc6e119d82d5eaab864674bf6ef70b">$sqlString</link>;
<anchor xml:id="_a00170_source_1l00026"/>00026 
<anchor xml:id="_a00170_source_1l00030"/><link linkend="_a00724_1ab9d893adde3eef81d7d28c94c89700b4">00030</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;array&#32;<link linkend="_a00724_1ab9d893adde3eef81d7d28c94c89700b4">$toBind</link>;
<anchor xml:id="_a00170_source_1l00031"/>00031 
<anchor xml:id="_a00170_source_1l00035"/><link linkend="_a00724_1a9de88a770502a9490841dc498cb93cd3">00035</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<link linkend="_a00752">MysqlModel</link>&#32;<link linkend="_a00724_1a9de88a770502a9490841dc498cb93cd3">$baseModel</link>;
<anchor xml:id="_a00170_source_1l00036"/>00036 
<anchor xml:id="_a00170_source_1l00040"/><link linkend="_a00724_1a257aeb0a75151f60d6d6e6cf790e73c8">00040</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keywordtype">string</emphasis>&#32;<link linkend="_a00724_1a257aeb0a75151f60d6d6e6cf790e73c8">$tableAlias</link>;
<anchor xml:id="_a00170_source_1l00041"/>00041 
<anchor xml:id="_a00170_source_1l00045"/><link linkend="_a00724_1afc2e07bfdf1b87e1edd8e825b7fdb533">00045</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1afc2e07bfdf1b87e1edd8e825b7fdb533">__construct</link>(<link linkend="_a00752">MysqlModel</link>&#32;$model){
<anchor xml:id="_a00170_source_1l00046"/>00046 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;baseModel&#32;=&#32;$model;
<anchor xml:id="_a00170_source_1l00047"/>00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;<link linkend="_a00724_1a4a20559544fdf4dcb457e258dc976cf8">reset</link>();
<anchor xml:id="_a00170_source_1l00048"/>00048 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00049"/>00049 
<anchor xml:id="_a00170_source_1l00056"/><link linkend="_a00724_1a211c11b4e36074d4a5aabd6401694bbc">00056</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1a211c11b4e36074d4a5aabd6401694bbc">createFrom</link>(<emphasis role="keywordtype">string</emphasis>&#32;$modelClass):<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00057"/>00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return&#32;new&#32;<link linkend="_a00724">MysqlQueryBuilder</link>(model:&#32;<link linkend="_a00752">MysqlModel</link>::newInstanceOfModel(modelClass:&#32;$modelClass)&#32;);
<anchor xml:id="_a00170_source_1l00058"/>00058 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00059"/>00059 
<anchor xml:id="_a00170_source_1l00064"/><link linkend="_a00724_1a4a20559544fdf4dcb457e258dc976cf8">00064</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1a4a20559544fdf4dcb457e258dc976cf8">reset</link>():<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00065"/>00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;=&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00066"/>00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;toBind&#32;=&#32;[];
<anchor xml:id="_a00170_source_1l00067"/>00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;tableAlias&#32;=&#32;$this-&gt;baseModel-&gt;getTableNameManager()-&gt;getTableName()&#32;.&#32;time();
<anchor xml:id="_a00170_source_1l00068"/>00068 
<anchor xml:id="_a00170_source_1l00069"/>00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;
<anchor xml:id="_a00170_source_1l00070"/>00070 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00071"/>00071 
<anchor xml:id="_a00170_source_1l00077"/><link linkend="_a00724_1ad4fc9ceb9f4a748179c2302c36b8bfeb">00077</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1ad4fc9ceb9f4a748179c2302c36b8bfeb">prepareRequest</link>(PDO&#32;$pdo):?PDOStatement{
<anchor xml:id="_a00170_source_1l00078"/>00078 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;try{
<anchor xml:id="_a00170_source_1l00079"/>00079 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$statement&#32;=&#32;$pdo-&gt;prepare(query:&#32;$this-&gt;getSql());
<anchor xml:id="_a00170_source_1l00080"/>00080 
<anchor xml:id="_a00170_source_1l00081"/>00081 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>($statement&#32;===&#32;<emphasis role="keyword">false</emphasis>)
<anchor xml:id="_a00170_source_1l00082"/>00082 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">null</emphasis>;
<anchor xml:id="_a00170_source_1l00083"/>00083 
<anchor xml:id="_a00170_source_1l00084"/>00084 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;ajout&#32;des&#32;valeurs&#32;à&#32;bind</emphasis>
<anchor xml:id="_a00170_source_1l00085"/>00085 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$toBind&#32;=&#32;$this-&gt;getBindValues();
<anchor xml:id="_a00170_source_1l00086"/>00086 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$bindCounter&#32;=&#32;0;
<anchor xml:id="_a00170_source_1l00087"/>00087 
<anchor xml:id="_a00170_source_1l00088"/>00088 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">foreach</emphasis>($toBind&#32;as&#32;$bindManager){
<anchor xml:id="_a00170_source_1l00089"/>00089 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">foreach</emphasis>($bindManager-&gt;getToBindDatas()&#32;as&#32;$bindConfig){
<anchor xml:id="_a00170_source_1l00090"/>00090 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$bindCounter++;
<anchor xml:id="_a00170_source_1l00091"/>00091 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$statement-&gt;bindValue($bindCounter,...$bindConfig);
<anchor xml:id="_a00170_source_1l00092"/>00092 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00093"/>00093 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00094"/>00094 
<anchor xml:id="_a00170_source_1l00095"/>00095 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$statement;
<anchor xml:id="_a00170_source_1l00096"/>00096 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00097"/>00097 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">catch</emphasis>(Throwable){
<anchor xml:id="_a00170_source_1l00098"/>00098 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">null</emphasis>;
<anchor xml:id="_a00170_source_1l00099"/>00099 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00100"/>00100 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00101"/>00101 
<anchor xml:id="_a00170_source_1l00107"/><link linkend="_a00724_1ae11fa93f5d6f384f8a5fff304a10c725">00107</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1ae11fa93f5d6f384f8a5fff304a10c725">as</link>(<emphasis role="keywordtype">string</emphasis>&#32;$alias):<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00108"/>00108 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;tableAlias&#32;=&#32;$alias;
<anchor xml:id="_a00170_source_1l00109"/>00109 
<anchor xml:id="_a00170_source_1l00110"/>00110 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;
<anchor xml:id="_a00170_source_1l00111"/>00111 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00112"/>00112 
<anchor xml:id="_a00170_source_1l00117"/><link linkend="_a00724_1a0c26916dcbc48b8ba4c5adddeb7966ca">00117</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1a0c26916dcbc48b8ba4c5adddeb7966ca">getRealSql</link>():string{
<anchor xml:id="_a00170_source_1l00118"/>00118 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return&#32;$this-&gt;sqlString;
<anchor xml:id="_a00170_source_1l00119"/>00119 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00120"/>00120 
<anchor xml:id="_a00170_source_1l00124"/><link linkend="_a00724_1ad53d6d06affd7337d46e4efce0f6b2a1">00124</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1ad53d6d06affd7337d46e4efce0f6b2a1">getSql</link>():string{
<anchor xml:id="_a00170_source_1l00125"/>00125 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return&#32;str_replace(
<anchor xml:id="_a00170_source_1l00126"/>00126 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;search:&#32;[<emphasis role="stringliteral">&quot;{aliasTable}&quot;</emphasis>],
<anchor xml:id="_a00170_source_1l00127"/>00127 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;replace:&#32;[$this-&gt;tableAlias],
<anchor xml:id="_a00170_source_1l00128"/>00128 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;subject:&#32;$this-&gt;sqlString
<anchor xml:id="_a00170_source_1l00129"/>00129 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;);
<anchor xml:id="_a00170_source_1l00130"/>00130 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00131"/>00131 
<anchor xml:id="_a00170_source_1l00135"/><link linkend="_a00724_1aba3107b9a047d1ca05c264eaec4983d0">00135</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1aba3107b9a047d1ca05c264eaec4983d0">getBaseModel</link>():<link linkend="_a00752">MysqlModel</link>{
<anchor xml:id="_a00170_source_1l00136"/>00136 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return&#32;$this-&gt;baseModel;
<anchor xml:id="_a00170_source_1l00137"/>00137 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00138"/>00138 
<anchor xml:id="_a00170_source_1l00142"/><link linkend="_a00724_1a61cd3fa459b26f5b30726b9bd97ed9a9">00142</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1a61cd3fa459b26f5b30726b9bd97ed9a9">getBindValues</link>():array{
<anchor xml:id="_a00170_source_1l00143"/>00143 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return&#32;$this-&gt;toBind;
<anchor xml:id="_a00170_source_1l00144"/>00144 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00145"/>00145 
<anchor xml:id="_a00170_source_1l00153"/><link linkend="_a00724_1a1dd73d00826544f9e23b141f9a28a8a6">00153</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1a1dd73d00826544f9e23b141f9a28a8a6">joinBuilder</link>(<link linkend="_a00724">MysqlQueryBuilder</link>&#32;$toJoin,?<emphasis role="keywordtype">string</emphasis>&#32;$sqlBefore&#32;=&#32;<emphasis role="keyword">null</emphasis>,?<emphasis role="keywordtype">string</emphasis>&#32;$sqlAfter&#32;=&#32;<emphasis role="keyword">null</emphasis>):<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00154"/>00154 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;($sqlBefore&#32;??&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>)&#32;.&#32;$toJoin-&gt;getSql()&#32;.&#32;($sqlAfter&#32;??&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>);
<anchor xml:id="_a00170_source_1l00155"/>00155 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;toBind&#32;=&#32;array_merge($this-&gt;toBind,$toJoin-&gt;<link linkend="_a00724_1a61cd3fa459b26f5b30726b9bd97ed9a9">getBindValues</link>());
<anchor xml:id="_a00170_source_1l00156"/>00156 
<anchor xml:id="_a00170_source_1l00157"/>00157 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;
<anchor xml:id="_a00170_source_1l00158"/>00158 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00159"/>00159 
<anchor xml:id="_a00170_source_1l00169"/><link linkend="_a00724_1a368d8ec291d5dfd1521bbdbe0dac955a">00169</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1a368d8ec291d5dfd1521bbdbe0dac955a">manageValueDatas</link>(<link linkend="_a00632">TableColumn</link>&#32;$columnConfig,mixed&#32;$data,?<emphasis role="keywordtype">string</emphasis>&#32;$sqlBefore&#32;=&#32;<emphasis role="keyword">null</emphasis>,?<emphasis role="keywordtype">string</emphasis>&#32;$sqlAfter&#32;=&#32;<emphasis role="keyword">null</emphasis>):array{
<anchor xml:id="_a00170_source_1l00170"/>00170 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if($data&#32;instanceof&#32;<link linkend="_a00724">MysqlQueryBuilder</link>){
<anchor xml:id="_a00170_source_1l00171"/>00171 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;[
<anchor xml:id="_a00170_source_1l00172"/>00172 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;sql&quot;</emphasis>&#32;=&gt;&#32;($sqlBefore&#32;??&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>)&#32;.&#32;$data-&gt;getSql()&#32;.&#32;($sqlAfter&#32;??&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>),
<anchor xml:id="_a00170_source_1l00173"/>00173 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;toBind&quot;</emphasis>&#32;=&gt;&#32;$data-&gt;getBindValues()
<anchor xml:id="_a00170_source_1l00174"/>00174 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;];
<anchor xml:id="_a00170_source_1l00175"/>00175 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00176"/>00176 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;<emphasis role="keywordflow">if</emphasis>($data&#32;instanceof&#32;<link linkend="_a00748">MysqlFunction</link>){
<anchor xml:id="_a00170_source_1l00177"/>00177 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;traitement&#32;de&#32;la&#32;&quot;fonction&quot;</emphasis>
<anchor xml:id="_a00170_source_1l00178"/>00178 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$alias&#32;=&#32;$data-&gt;getAlias();
<anchor xml:id="_a00170_source_1l00179"/>00179 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$function&#32;=&#32;$data-&gt;getFunction();
<anchor xml:id="_a00170_source_1l00180"/>00180 
<anchor xml:id="_a00170_source_1l00181"/>00181 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>($data-&gt;haveToReplaceAttributesName())
<anchor xml:id="_a00170_source_1l00182"/>00182 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$function&#32;=&#32;$this-&gt;replaceAttributesNameIn(<emphasis role="keywordtype">string</emphasis>:&#32;$function);
<anchor xml:id="_a00170_source_1l00183"/>00183 
<anchor xml:id="_a00170_source_1l00184"/>00184 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;[
<anchor xml:id="_a00170_source_1l00185"/>00185 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;traitement&#32;de&#32;l&apos;alias</emphasis>
<anchor xml:id="_a00170_source_1l00186"/>00186 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;sql&quot;</emphasis>&#32;=&gt;&#32;$function&#32;.&#32;($alias&#32;?&#32;<emphasis role="stringliteral">&quot;&#32;AS&#32;$alias&quot;</emphasis>&#32;:&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>),
<anchor xml:id="_a00170_source_1l00187"/>00187 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;toBind&quot;</emphasis>&#32;=&gt;&#32;[]
<anchor xml:id="_a00170_source_1l00188"/>00188 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;];
<anchor xml:id="_a00170_source_1l00189"/>00189 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00190"/>00190 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>{
<anchor xml:id="_a00170_source_1l00191"/>00191 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$toBind&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;MysqlBindDatas(
<anchor xml:id="_a00170_source_1l00192"/>00192 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;countOfMarkers:&#32;1,
<anchor xml:id="_a00170_source_1l00193"/>00193 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;toBindDatas:&#32;[&#32;[$data,$data&#32;===&#32;<emphasis role="keyword">null</emphasis>&#32;?&#32;PDO::PARAM_NULL&#32;:&#32;$columnConfig-&gt;getColumnType()]&#32;]
<anchor xml:id="_a00170_source_1l00194"/>00194 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;);
<anchor xml:id="_a00170_source_1l00195"/>00195 
<anchor xml:id="_a00170_source_1l00196"/>00196 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;[
<anchor xml:id="_a00170_source_1l00197"/>00197 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;sql&quot;</emphasis>&#32;=&gt;&#32;$toBind-&gt;getMarkersStr(),
<anchor xml:id="_a00170_source_1l00198"/>00198 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;toBind&quot;</emphasis>&#32;=&gt;&#32;[$toBind]
<anchor xml:id="_a00170_source_1l00199"/>00199 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;];
<anchor xml:id="_a00170_source_1l00200"/>00200 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00201"/>00201 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00202"/>00202 
<anchor xml:id="_a00170_source_1l00209"/><link linkend="_a00724_1ab5cc6aff218af7007a869cfc98946545">00209</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1ab5cc6aff218af7007a869cfc98946545">replaceAttributesNameIn</link>(<emphasis role="keywordtype">string</emphasis>&#32;$string):string{
<anchor xml:id="_a00170_source_1l00210"/>00210 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$tableColumnsConfig&#32;=&#32;$this-&gt;baseModel-&gt;getColumnsConfig();
<anchor xml:id="_a00170_source_1l00211"/>00211 
<anchor xml:id="_a00170_source_1l00212"/>00212 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;remplacement&#32;des&#32;valeurs</emphasis>
<anchor xml:id="_a00170_source_1l00213"/>00213 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">foreach</emphasis>($tableColumnsConfig&#32;as&#32;$attributeNameToReplace&#32;=&gt;&#32;$attributeConfig)
<anchor xml:id="_a00170_source_1l00214"/>00214 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$string&#32;=&#32;@str_replace(search:&#32;<emphasis role="stringliteral">&quot;{{$attributeNameToReplace}}&quot;</emphasis>,replace:&#32;$attributeConfig-&gt;getColumnName(),subject:&#32;$string);
<anchor xml:id="_a00170_source_1l00215"/>00215 
<anchor xml:id="_a00170_source_1l00216"/>00216 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$string;
<anchor xml:id="_a00170_source_1l00217"/>00217 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00218"/>00218 
<anchor xml:id="_a00170_source_1l00224"/><link linkend="_a00724_1a0cb0e43349e5cd2b115425f6ca6e4576">00224</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1a0cb0e43349e5cd2b115425f6ca6e4576">parseCondition</link>(<link linkend="_a00736">MysqlCondition</link>&#32;$condition):array{
<anchor xml:id="_a00170_source_1l00225"/>00225 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$comparator&#32;=&#32;$condition-&gt;getComparator();
<anchor xml:id="_a00170_source_1l00226"/>00226 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$condGetter&#32;=&#32;$condition-&gt;<link linkend="_a00736_1a77af78f1052edadea4064d1f191da05a">getCondGetter</link>();
<anchor xml:id="_a00170_source_1l00227"/>00227 
<anchor xml:id="_a00170_source_1l00228"/>00228 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>($condGetter&#32;instanceof&#32;<link linkend="_a00748">MysqlFunction</link>){
<anchor xml:id="_a00170_source_1l00229"/>00229 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;traitement&#32;de&#32;la&#32;fonction</emphasis>
<anchor xml:id="_a00170_source_1l00230"/>00230 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$function&#32;=&#32;$condGetter-&gt;getFunction();
<anchor xml:id="_a00170_source_1l00231"/>00231 
<anchor xml:id="_a00170_source_1l00232"/>00232 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>($condGetter-&gt;haveToReplaceAttributesName())
<anchor xml:id="_a00170_source_1l00233"/>00233 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$function&#32;=&#32;$this-&gt;replaceAttributesNameIn(<emphasis role="keywordtype">string</emphasis>:&#32;$function);
<anchor xml:id="_a00170_source_1l00234"/>00234 
<anchor xml:id="_a00170_source_1l00235"/>00235 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$sql&#32;=&#32;<emphasis role="stringliteral">&quot;$function&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00236"/>00236 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00237"/>00237 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>{
<anchor xml:id="_a00170_source_1l00238"/>00238 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;récupération&#32;du&#32;nom&#32;de&#32;l&apos;attribut</emphasis>
<anchor xml:id="_a00170_source_1l00239"/>00239 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$sql&#32;=&#32;<emphasis role="stringliteral">&quot;{$this-&gt;baseModel-&gt;getColumnConfig(attributName:&#32;$condGetter)-&gt;getColumnName()}&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00240"/>00240 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00241"/>00241 
<anchor xml:id="_a00170_source_1l00242"/>00242 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;traitement&#32;de&#32;replacement&#32;des&#32;marqueurs&#32;de&#32;comparaison</emphasis>
<anchor xml:id="_a00170_source_1l00243"/>00243 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$toBind&#32;=&#32;$comparator-&gt;getBindDatas(value:&#32;$condition-&gt;<link linkend="_a00772_1aed18d222c4a8cfbc1f544b7adb08ffeb">getConditionValue</link>());
<anchor xml:id="_a00170_source_1l00244"/>00244 
<anchor xml:id="_a00170_source_1l00245"/>00245 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$comparatorStr&#32;=&#32;str_replace(
<anchor xml:id="_a00170_source_1l00246"/>00246 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;search:&#32;[<emphasis role="stringliteral">&quot;{singleMarker}&quot;</emphasis>,<emphasis role="stringliteral">&quot;{bindMarkers}&quot;</emphasis>],
<anchor xml:id="_a00170_source_1l00247"/>00247 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;replace:&#32;[<emphasis role="stringliteral">&quot;?&quot;</emphasis>,$toBind-&gt;getMarkersStr()],
<anchor xml:id="_a00170_source_1l00248"/>00248 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;subject:&#32;$comparator-&gt;getComparator()
<anchor xml:id="_a00170_source_1l00249"/>00249 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;);
<anchor xml:id="_a00170_source_1l00250"/>00250 
<anchor xml:id="_a00170_source_1l00251"/>00251 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;[
<anchor xml:id="_a00170_source_1l00252"/>00252 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;sql&quot;</emphasis>&#32;=&gt;&#32;$sql&#32;.&#32;$comparatorStr,
<anchor xml:id="_a00170_source_1l00253"/>00253 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;toBind&quot;</emphasis>&#32;=&gt;&#32;$toBind
<anchor xml:id="_a00170_source_1l00254"/>00254 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;];
<anchor xml:id="_a00170_source_1l00255"/>00255 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00256"/>00256 
<anchor xml:id="_a00170_source_1l00262"/><link linkend="_a00724_1ab3723cdb5ab2cc68321e871b67e11b14">00262</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1ab3723cdb5ab2cc68321e871b67e11b14">parseConditionSequence</link>(array&#32;$sequence):array{
<anchor xml:id="_a00170_source_1l00263"/>00263 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$sql&#32;=&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00264"/>00264 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$toBindList&#32;=&#32;[];
<anchor xml:id="_a00170_source_1l00265"/>00265 
<anchor xml:id="_a00170_source_1l00266"/>00266 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">foreach</emphasis>($sequence&#32;as&#32;$conditionConfig){
<anchor xml:id="_a00170_source_1l00267"/>00267 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>($conditionConfig&#32;instanceof&#32;<link linkend="_a00740">MysqlCondSeparator</link>){
<anchor xml:id="_a00170_source_1l00268"/>00268 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;traitement&#32;du&#32;séparateur</emphasis>
<anchor xml:id="_a00170_source_1l00269"/>00269 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$sql&#32;.=&#32;<emphasis role="stringliteral">&quot;{$conditionConfig-&gt;getSeparator()}&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00270"/>00270 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">continue</emphasis>;
<anchor xml:id="_a00170_source_1l00271"/>00271 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00272"/>00272 
<anchor xml:id="_a00170_source_1l00273"/>00273 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;traitement&#32;de&#32;la&#32;condition</emphasis>
<anchor xml:id="_a00170_source_1l00274"/>00274 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[<emphasis role="stringliteral">&quot;sql&quot;</emphasis>&#32;=&gt;&#32;$parsedSql,<emphasis role="stringliteral">&quot;toBind&quot;</emphasis>&#32;=&gt;&#32;$toBind]&#32;=&#32;$this-&gt;parseCondition($conditionConfig);
<anchor xml:id="_a00170_source_1l00275"/>00275 
<anchor xml:id="_a00170_source_1l00276"/>00276 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$sql&#32;.=&#32;<emphasis role="stringliteral">&quot;$parsedSql&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00277"/>00277 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$toBindList[]&#32;=&#32;$toBind;
<anchor xml:id="_a00170_source_1l00278"/>00278 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00279"/>00279 
<anchor xml:id="_a00170_source_1l00280"/>00280 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;[
<anchor xml:id="_a00170_source_1l00281"/>00281 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;sql&quot;</emphasis>&#32;=&gt;&#32;$sql,
<anchor xml:id="_a00170_source_1l00282"/>00282 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;toBind&quot;</emphasis>&#32;=&gt;&#32;$toBindList
<anchor xml:id="_a00170_source_1l00283"/>00283 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;];
<anchor xml:id="_a00170_source_1l00284"/>00284 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00285"/>00285 
<anchor xml:id="_a00170_source_1l00297"/><link linkend="_a00724_1a896014ee8ca6a0f73f68719b0b92b039">00297</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1a896014ee8ca6a0f73f68719b0b92b039">staticRequest</link>(<emphasis role="keywordtype">string</emphasis>&#32;$sqlString,array&#32;$toBind&#32;=&#32;[],<emphasis role="keywordtype">bool</emphasis>&#32;$justConcat&#32;=&#32;<emphasis role="keyword">false</emphasis>):<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00298"/>00298 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if($justConcat){
<anchor xml:id="_a00170_source_1l00299"/>00299 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;$sqlString;
<anchor xml:id="_a00170_source_1l00300"/>00300 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;toBind&#32;=&#32;array_merge($this-&gt;toBind,$toBind);
<anchor xml:id="_a00170_source_1l00301"/>00301 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00302"/>00302 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>{
<anchor xml:id="_a00170_source_1l00303"/>00303 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;=&#32;$sqlString;
<anchor xml:id="_a00170_source_1l00304"/>00304 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;toBind&#32;=&#32;$toBind;
<anchor xml:id="_a00170_source_1l00305"/>00305 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00306"/>00306 
<anchor xml:id="_a00170_source_1l00307"/>00307 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;
<anchor xml:id="_a00170_source_1l00308"/>00308 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00309"/>00309 
<anchor xml:id="_a00170_source_1l00316"/><link linkend="_a00724_1aa26fe6f4ec7770e8e77a26a0a54d9daf">00316</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1aa26fe6f4ec7770e8e77a26a0a54d9daf">select</link>(<emphasis role="keywordtype">string</emphasis>|<link linkend="_a00748">MysqlFunction</link>&#32;...$toSelect):<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00317"/>00317 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;<emphasis role="stringliteral">&quot;SELECT&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00318"/>00318 
<anchor xml:id="_a00170_source_1l00319"/>00319 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$tableColumnsConfig&#32;=&#32;$this-&gt;baseModel-&gt;getColumnsConfig();
<anchor xml:id="_a00170_source_1l00320"/>00320 
<anchor xml:id="_a00170_source_1l00321"/>00321 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$columnsToSelect&#32;=&#32;[];
<anchor xml:id="_a00170_source_1l00322"/>00322 
<anchor xml:id="_a00170_source_1l00323"/>00323 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;remplacement&#32;des&#32;données&#32;à&#32;sélectionner</emphasis>
<anchor xml:id="_a00170_source_1l00324"/>00324 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">foreach</emphasis>($toSelect&#32;as&#32;$value){
<anchor xml:id="_a00170_source_1l00325"/>00325 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(gettype($value)&#32;===&#32;<emphasis role="stringliteral">&quot;string&quot;</emphasis>){
<anchor xml:id="_a00170_source_1l00326"/>00326 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$columnsToSelect[]&#32;=&#32;$tableColumnsConfig[$value]-&gt;getColumnName();
<anchor xml:id="_a00170_source_1l00327"/>00327 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">continue</emphasis>;
<anchor xml:id="_a00170_source_1l00328"/>00328 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00329"/>00329 
<anchor xml:id="_a00170_source_1l00330"/>00330 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;traitement&#32;de&#32;la&#32;&quot;fonction&quot;</emphasis>
<anchor xml:id="_a00170_source_1l00331"/>00331 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$alias&#32;=&#32;$value-&gt;getAlias();
<anchor xml:id="_a00170_source_1l00332"/>00332 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$function&#32;=&#32;$value-&gt;getFunction();
<anchor xml:id="_a00170_source_1l00333"/>00333 
<anchor xml:id="_a00170_source_1l00334"/>00334 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>($value-&gt;haveToReplaceAttributesName())
<anchor xml:id="_a00170_source_1l00335"/>00335 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$function&#32;=&#32;$this-&gt;replaceAttributesNameIn(<emphasis role="keywordtype">string</emphasis>:&#32;$function);
<anchor xml:id="_a00170_source_1l00336"/>00336 
<anchor xml:id="_a00170_source_1l00337"/>00337 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;traitement&#32;de&#32;l&apos;alias&#32;et&#32;ajout&#32;dans&#32;la&#32;liste&#32;des&#32;colonnes&#32;sélectionnées</emphasis>
<anchor xml:id="_a00170_source_1l00338"/>00338 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$columnsToSelect[]&#32;=&#32;$function&#32;.&#32;($alias&#32;?&#32;<emphasis role="stringliteral">&quot;&#32;AS&#32;$alias&quot;</emphasis>&#32;:&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>);
<anchor xml:id="_a00170_source_1l00339"/>00339 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00340"/>00340 
<anchor xml:id="_a00170_source_1l00341"/>00341 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;(empty($columnsToSelect)&#32;?&#32;<emphasis role="stringliteral">&quot;*&quot;</emphasis>&#32;:&#32;implode(separator:&#32;<emphasis role="stringliteral">&quot;,&quot;</emphasis>,array:&#32;$columnsToSelect))&#32;.&#32;<emphasis role="stringliteral">&quot;&#32;FROM&#32;{$this-&gt;baseModel-&gt;getTableNameManager()-&gt;getTableName()}&#32;AS&#32;{aliasTable}&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00342"/>00342 
<anchor xml:id="_a00170_source_1l00343"/>00343 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;
<anchor xml:id="_a00170_source_1l00344"/>00344 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00345"/>00345 
<anchor xml:id="_a00170_source_1l00352"/><link linkend="_a00724_1ae21b14de27e3631b8ecd79ce5d605074">00352</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1ae21b14de27e3631b8ecd79ce5d605074">insert</link>(array&#32;$insertConfig):<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00353"/>00353 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;<emphasis role="stringliteral">&quot;INSERT&#32;INTO&#32;{$this-&gt;baseModel-&gt;getTableNameManager()-&gt;getTableName()}&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00354"/>00354 
<anchor xml:id="_a00170_source_1l00355"/>00355 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$columnsToInsert&#32;=&#32;[];
<anchor xml:id="_a00170_source_1l00356"/>00356 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$sql&#32;=&#32;[];
<anchor xml:id="_a00170_source_1l00357"/>00357 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$columnsConfig&#32;=&#32;$this-&gt;baseModel-&gt;getColumnsConfig();
<anchor xml:id="_a00170_source_1l00358"/>00358 
<anchor xml:id="_a00170_source_1l00359"/>00359 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;ajout&#32;des&#32;attributs&#32;à&#32;insérer</emphasis>
<anchor xml:id="_a00170_source_1l00360"/>00360 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">foreach</emphasis>($insertConfig&#32;as&#32;$attributeName&#32;=&gt;&#32;$value){
<anchor xml:id="_a00170_source_1l00361"/>00361 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[<emphasis role="stringliteral">&quot;sql&quot;</emphasis>&#32;=&gt;&#32;$setSql,<emphasis role="stringliteral">&quot;toBind&quot;</emphasis>&#32;=&gt;&#32;$valuesToBind]&#32;=&#32;&#32;$this-&gt;manageValueDatas(
<anchor xml:id="_a00170_source_1l00362"/>00362 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;columnConfig:&#32;$columnsConfig[$attributeName],
<anchor xml:id="_a00170_source_1l00363"/>00363 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;data:&#32;$value,
<anchor xml:id="_a00170_source_1l00364"/>00364 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sqlBefore:&#32;<emphasis role="stringliteral">&quot;(&quot;</emphasis>,
<anchor xml:id="_a00170_source_1l00365"/>00365 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sqlAfter:&#32;<emphasis role="stringliteral">&quot;)&quot;</emphasis>
<anchor xml:id="_a00170_source_1l00366"/>00366 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;);
<anchor xml:id="_a00170_source_1l00367"/>00367 
<anchor xml:id="_a00170_source_1l00368"/>00368 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$columnsToInsert[]&#32;=&#32;$columnsConfig[$attributeName]-&gt;getColumnName();
<anchor xml:id="_a00170_source_1l00369"/>00369 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$sql[]&#32;=&#32;<emphasis role="stringliteral">&quot;$setSql&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00370"/>00370 
<anchor xml:id="_a00170_source_1l00371"/>00371 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;toBind&#32;=&#32;array_merge($this-&gt;toBind,$valuesToBind);
<anchor xml:id="_a00170_source_1l00372"/>00372 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00373"/>00373 
<anchor xml:id="_a00170_source_1l00374"/>00374 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;<emphasis role="stringliteral">&quot;(&quot;</emphasis>&#32;.&#32;implode(separator:&#32;<emphasis role="stringliteral">&quot;,&quot;</emphasis>,array:&#32;$columnsToInsert)&#32;.<emphasis role="stringliteral">&quot;)&#32;VALUES(&quot;</emphasis>&#32;.&#32;implode(separator:&#32;<emphasis role="stringliteral">&quot;,&quot;</emphasis>,array:&#32;$sql)&#32;.&#32;<emphasis role="stringliteral">&quot;)&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00375"/>00375 
<anchor xml:id="_a00170_source_1l00376"/>00376 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;
<anchor xml:id="_a00170_source_1l00377"/>00377 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00378"/>00378 
<anchor xml:id="_a00170_source_1l00385"/><link linkend="_a00724_1aeb12b20a8800bf40abc23f1c60b4869b">00385</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1aeb12b20a8800bf40abc23f1c60b4869b">update</link>(array&#32;$updateConfig):<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00386"/>00386 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;<emphasis role="stringliteral">&quot;UPDATE&#32;{$this-&gt;baseModel-&gt;getTableNameManager()-&gt;getTableName()}&#32;AS&#32;{aliasTable}&#32;SET&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00387"/>00387 
<anchor xml:id="_a00170_source_1l00388"/>00388 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$columnsConfig&#32;=&#32;$this-&gt;baseModel-&gt;getColumnsConfig();
<anchor xml:id="_a00170_source_1l00389"/>00389 
<anchor xml:id="_a00170_source_1l00390"/>00390 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;construction&#32;du&#32;sql&#32;set</emphasis>
<anchor xml:id="_a00170_source_1l00391"/>00391 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$sql&#32;=&#32;[];
<anchor xml:id="_a00170_source_1l00392"/>00392 
<anchor xml:id="_a00170_source_1l00393"/>00393 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;ajout&#32;des&#32;attributs&#32;à&#32;modifier</emphasis>
<anchor xml:id="_a00170_source_1l00394"/>00394 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">foreach</emphasis>($updateConfig&#32;as&#32;$attributeName&#32;=&gt;&#32;$newValue){
<anchor xml:id="_a00170_source_1l00395"/>00395 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[<emphasis role="stringliteral">&quot;sql&quot;</emphasis>&#32;=&gt;&#32;$setSql,<emphasis role="stringliteral">&quot;toBind&quot;</emphasis>&#32;=&gt;&#32;$valuesToBind]&#32;=&#32;&#32;$this-&gt;manageValueDatas(
<anchor xml:id="_a00170_source_1l00396"/>00396 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;columnConfig:&#32;$columnsConfig[$attributeName],
<anchor xml:id="_a00170_source_1l00397"/>00397 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;data:&#32;$newValue,
<anchor xml:id="_a00170_source_1l00398"/>00398 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sqlBefore:&#32;<emphasis role="stringliteral">&quot;(&quot;</emphasis>,
<anchor xml:id="_a00170_source_1l00399"/>00399 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sqlAfter:&#32;<emphasis role="stringliteral">&quot;)&quot;</emphasis>
<anchor xml:id="_a00170_source_1l00400"/>00400 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;);
<anchor xml:id="_a00170_source_1l00401"/>00401 
<anchor xml:id="_a00170_source_1l00402"/>00402 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$sql[]&#32;=&#32;<emphasis role="stringliteral">&quot;{$columnsConfig[$attributeName]-&gt;getColumnName()}&#32;=&#32;$setSql&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00403"/>00403 
<anchor xml:id="_a00170_source_1l00404"/>00404 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;toBind&#32;=&#32;array_merge($this-&gt;toBind,$valuesToBind);
<anchor xml:id="_a00170_source_1l00405"/>00405 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00406"/>00406 
<anchor xml:id="_a00170_source_1l00407"/>00407 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;implode(separator:&#32;<emphasis role="stringliteral">&quot;,&#32;&quot;</emphasis>,array:&#32;$sql)&#32;.&#32;<emphasis role="stringliteral">&quot;&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00408"/>00408 
<anchor xml:id="_a00170_source_1l00409"/>00409 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;
<anchor xml:id="_a00170_source_1l00410"/>00410 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00411"/>00411 
<anchor xml:id="_a00170_source_1l00416"/><link linkend="_a00724_1a13bdffdd926f26b825ea57066334ff01">00416</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<emphasis role="keyword">delete</emphasis>():<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00417"/>00417 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;<emphasis role="stringliteral">&quot;DELETE&#32;FROM&#32;{$this-&gt;baseModel-&gt;getTableNameManager()-&gt;getTableName()}&#32;AS&#32;{aliasTable}&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00418"/>00418 
<anchor xml:id="_a00170_source_1l00419"/>00419 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_a00170_source_1l00420"/>00420 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00421"/>00421 
<anchor xml:id="_a00170_source_1l00426"/><link linkend="_a00724_1a67ecf76c1603c22a9f286e71d3f2c2d2">00426</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1a67ecf76c1603c22a9f286e71d3f2c2d2">where</link>():<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00427"/>00427 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;<emphasis role="stringliteral">&quot;WHERE&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00428"/>00428 
<anchor xml:id="_a00170_source_1l00429"/>00429 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;
<anchor xml:id="_a00170_source_1l00430"/>00430 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00431"/>00431 
<anchor xml:id="_a00170_source_1l00437"/><link linkend="_a00724_1a1d0c475c6a685aae0941c846e82b266a">00437</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1a1d0c475c6a685aae0941c846e82b266a">cond</link>(<link linkend="_a00736">MysqlCondition</link>|<link linkend="_a00740">MysqlCondSeparator</link>&#32;...$conditions):<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00438"/>00438 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[<emphasis role="stringliteral">&quot;sql&quot;</emphasis>&#32;=&gt;&#32;$sql,<emphasis role="stringliteral">&quot;toBind&quot;</emphasis>&#32;=&gt;&#32;$toBind]&#32;=&#32;&#32;$this-&gt;parseConditionSequence(sequence:&#32;$conditions);
<anchor xml:id="_a00170_source_1l00439"/>00439 
<anchor xml:id="_a00170_source_1l00440"/>00440 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;<emphasis role="stringliteral">&quot;$sql&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00441"/>00441 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;toBind&#32;=&#32;array_merge($this-&gt;toBind,$toBind);
<anchor xml:id="_a00170_source_1l00442"/>00442 
<anchor xml:id="_a00170_source_1l00443"/>00443 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;
<anchor xml:id="_a00170_source_1l00444"/>00444 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00445"/>00445 
<anchor xml:id="_a00170_source_1l00451"/><link linkend="_a00724_1a1aa3c5c052952c6fd23823c1416855e7">00451</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1a1aa3c5c052952c6fd23823c1416855e7">having</link>(<link linkend="_a00736">MysqlCondition</link>|<link linkend="_a00740">MysqlCondSeparator</link>&#32;...$conditions):<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00452"/>00452 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[<emphasis role="stringliteral">&quot;sql&quot;</emphasis>&#32;=&gt;&#32;$sql,<emphasis role="stringliteral">&quot;toBind&quot;</emphasis>&#32;=&gt;&#32;$toBind]&#32;=&#32;&#32;$this-&gt;parseConditionSequence(sequence:&#32;$conditions);
<anchor xml:id="_a00170_source_1l00453"/>00453 
<anchor xml:id="_a00170_source_1l00454"/>00454 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;<emphasis role="stringliteral">&quot;HAVING&#32;$sql&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00455"/>00455 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;toBind&#32;=&#32;array_merge($this-&gt;toBind,$toBind);
<anchor xml:id="_a00170_source_1l00456"/>00456 
<anchor xml:id="_a00170_source_1l00457"/>00457 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;
<anchor xml:id="_a00170_source_1l00458"/>00458 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00459"/>00459 
<anchor xml:id="_a00170_source_1l00465"/><link linkend="_a00724_1ae5641c6871058232991ad687729a4300">00465</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1ae5641c6871058232991ad687729a4300">orderBy</link>(array&#32;...$configs):<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00466"/>00466 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;<emphasis role="stringliteral">&quot;ORDER&#32;BY&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00467"/>00467 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$sql&#32;=&#32;[];
<anchor xml:id="_a00170_source_1l00468"/>00468 
<anchor xml:id="_a00170_source_1l00469"/>00469 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">foreach</emphasis>($configs&#32;as&#32;$orderConfig){
<anchor xml:id="_a00170_source_1l00470"/>00470 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[$attributeName,$sortOrder]&#32;=&#32;$orderConfig;
<anchor xml:id="_a00170_source_1l00471"/>00471 
<anchor xml:id="_a00170_source_1l00472"/>00472 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$sql[]&#32;=&#32;<emphasis role="stringliteral">&quot;{$this-&gt;baseModel-&gt;getColumnConfig(attributName:&#32;$attributeName)-&gt;getColumnName()}&#32;$sortOrder&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00473"/>00473 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00474"/>00474 
<anchor xml:id="_a00170_source_1l00475"/>00475 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;implode(separator:&#32;<emphasis role="stringliteral">&quot;,&quot;</emphasis>,array:&#32;$sql)&#32;.&#32;<emphasis role="stringliteral">&quot;&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00476"/>00476 
<anchor xml:id="_a00170_source_1l00477"/>00477 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;
<anchor xml:id="_a00170_source_1l00478"/>00478 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00479"/>00479 
<anchor xml:id="_a00170_source_1l00485"/><link linkend="_a00724_1a29299a42882f531fb63f393a4c2510b2">00485</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1a29299a42882f531fb63f393a4c2510b2">groupBy</link>(<emphasis role="keywordtype">string</emphasis>&#32;...$attributesNames):<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00486"/>00486 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;<emphasis role="stringliteral">&quot;GROUP&#32;BY&#32;&quot;</emphasis>&#32;.&#32;implode(
<anchor xml:id="_a00170_source_1l00487"/>00487 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;separator:&#32;<emphasis role="stringliteral">&quot;,&quot;</emphasis>,
<anchor xml:id="_a00170_source_1l00488"/>00488 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;array:&#32;array_map(
<anchor xml:id="_a00170_source_1l00489"/>00489 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;callback:&#32;fn(string&#32;$attributeName):string&#32;=&gt;&#32;$this-&gt;baseModel-&gt;getColumnConfig(attributName:&#32;$attributeName)-&gt;getColumnName(),
<anchor xml:id="_a00170_source_1l00490"/>00490 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;array:&#32;$attributesNames
<anchor xml:id="_a00170_source_1l00491"/>00491 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;)
<anchor xml:id="_a00170_source_1l00492"/>00492 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;)&#32;.&#32;<emphasis role="stringliteral">&quot;&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00493"/>00493 
<anchor xml:id="_a00170_source_1l00494"/>00494 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;
<anchor xml:id="_a00170_source_1l00495"/>00495 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00496"/>00496 
<anchor xml:id="_a00170_source_1l00503"/><link linkend="_a00724_1a444602b3a500f06d2dd7212fa5bc8321">00503</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">function</emphasis>&#32;<link linkend="_a00724_1a444602b3a500f06d2dd7212fa5bc8321">limit</link>(<emphasis role="keywordtype">int</emphasis>&#32;$count,?<emphasis role="keywordtype">int</emphasis>&#32;$offset&#32;=&#32;<emphasis role="keyword">null</emphasis>):<link linkend="_a00724">MysqlQueryBuilder</link>{
<anchor xml:id="_a00170_source_1l00504"/>00504 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;if($offset&#32;==&#32;null){
<anchor xml:id="_a00170_source_1l00505"/>00505 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;<emphasis role="stringliteral">&quot;LIMIT&#32;?&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00506"/>00506 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;toBind[]&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_a00728">MysqlBindDatas</link>(
<anchor xml:id="_a00170_source_1l00507"/>00507 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;countOfMarkers:&#32;1,
<anchor xml:id="_a00170_source_1l00508"/>00508 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;toBindDatas:&#32;[&#32;[$count,PDO::PARAM_INT]&#32;]
<anchor xml:id="_a00170_source_1l00509"/>00509 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;);
<anchor xml:id="_a00170_source_1l00510"/>00510 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00511"/>00511 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>{
<anchor xml:id="_a00170_source_1l00512"/>00512 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;sqlString&#32;.=&#32;<emphasis role="stringliteral">&quot;LIMIT&#32;?&#32;OFFSET&#32;?&#32;&quot;</emphasis>;
<anchor xml:id="_a00170_source_1l00513"/>00513 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;$this-&gt;toBind[]&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;<link linkend="_a00728">MysqlBindDatas</link>(
<anchor xml:id="_a00170_source_1l00514"/>00514 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;countOfMarkers:&#32;2,
<anchor xml:id="_a00170_source_1l00515"/>00515 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;toBindDatas:&#32;[&#32;[$count,PDO::PARAM_INT],[$offset,PDO::PARAM_INT]&#32;]
<anchor xml:id="_a00170_source_1l00516"/>00516 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;);
<anchor xml:id="_a00170_source_1l00517"/>00517 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00518"/>00518 
<anchor xml:id="_a00170_source_1l00519"/>00519 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;$this;
<anchor xml:id="_a00170_source_1l00520"/>00520 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00170_source_1l00521"/>00521 }
</programlisting></section>
